"use strict";(self["webpackChunkmappitweb"]=self["webpackChunkmappitweb"]||[]).push([[3491],{50405:function(e,t,s){s.d(t,{AM:function(){return f}});var i=s(61445),n=s(92698),r=s(81653),a=s(86232),l=s(93622),o=s(58006),h=(s(94315),s(77623)),c=s(42484),u=s(60289);const d=-1;let f=class extends n.Z{constructor(e){super(e),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=(0,r.Z)("mapview-transitions-duration"),this.effects=[]}set effect(e){if(this._get("effect")!==(e=e||"")){this._set("effect",e);try{this._transitionTo(v(e))}catch(t){this._transitionTo([]),l.Z.getLogger(this.declaredClass).warn("Invalid Effect",{effect:e,error:t})}}}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(e){this._updateForScale(e)}get transitioning(){return null!==this._to}canTransitionTo(e){try{return this.scale>0&&p(this._current,v(e),this.scale)}catch{return!1}}transitionStep(e,t){this._applyTimeTransition(e),this._updateForScale(t)}end(){this._applyTimeTransition(this.duration)}_transitionTo(e){this.scale>0&&p(this._current,e,this.scale)?(this._final=e,this._to=(0,a.d9)(e),_(this._current,this._to,this.scale),this._from=(0,a.d9)(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=e),this._set("effects",this._current[0]?(0,a.d9)(this._current[0].effects):[])}_applyTimeTransition(e){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=e;const t=Math.min(1,this._time/this.duration);for(let s=0;s<this._current.length;s++){const e=this._current[s],i=this._from[s],n=this._to[s];e.scale=S(i.scale,n.scale,t);for(let s=0;s<e.effects.length;s++){const r=e.effects[s],a=i.effects[s],l=n.effects[s];r.interpolate(a,l,t)}}1===t&&(this._current=this._final,this._set("effects",this._current[0]?(0,a.d9)(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(e){if(this._set("scale",e),0===this._current.length)return;const t=this._current,s=this._current.length-1;let i,n,r=1;if(1===t.length||e>=t[0].scale)n=i=t[0].effects;else if(e<=t[s].scale)n=i=t[s].effects;else for(let a=0;a<s;a++){const s=t[a],l=t[a+1];if(s.scale>=e&&l.scale<=e){r=(e-s.scale)/(l.scale-s.scale),i=s.effects,n=l.effects;break}}for(let a=0;a<this.effects.length;a++)this.effects[a].interpolate(i[a],n[a],r)}};function v(e){const t=(0,c.Q)(e)||[];return g(t)?[{scale:d,effects:t}]:t}function p(e,t,s){var i,n,r,a;return null==(i=e[0])||!i.effects||null==(n=t[0])||!n.effects||!(((null==(r=e[0])?void 0:r.scale)===d||(null==(a=t[0])?void 0:a.scale)===d)&&(e.length>1||t.length>1)&&s<=0)&&(0,u.AS)(e[0].effects,t[0].effects)}function _(e,t,s){var i,n;const r=e.length>t.length?e:t,a=e.length>t.length?t:e,l=a[a.length-1],o=null!=(i=null==l?void 0:l.scale)?i:s,h=null!=(n=null==l?void 0:l.effects)?n:[];for(let c=a.length;c<r.length;c++)a.push({scale:o,effects:[...h]});for(let c=0;c<r.length;c++)a[c].scale=a[c].scale===d?s:a[c].scale,r[c].scale=r[c].scale===d?s:r[c].scale,(0,u.uF)(a[c].effects,r[c].effects)}function S(e,t,s){return e+(t-e)*s}function g(e){const t=e[0];return!!t&&"type"in t}(0,i._)([(0,o.Cb)()],f.prototype,"_to",void 0),(0,i._)([(0,o.Cb)()],f.prototype,"duration",void 0),(0,i._)([(0,o.Cb)({value:""})],f.prototype,"effect",null),(0,i._)([(0,o.Cb)({readOnly:!0})],f.prototype,"effects",void 0),(0,i._)([(0,o.Cb)({readOnly:!0})],f.prototype,"hasEffects",null),(0,i._)([(0,o.Cb)({value:0})],f.prototype,"scale",null),(0,i._)([(0,o.Cb)({readOnly:!0})],f.prototype,"transitioning",null),f=(0,i._)([(0,h.j)("esri.layers.effects.EffectView")],f)},32988:function(e,t,s){s.d(t,{W:function(){return a}});var i=s(57409),n=s(50405),r=s(75393);class a extends r.s{constructor(){super(...arguments),this._childrenSet=new Set,this._needsSort=!1,this.children=[],this._effectView=null}get blendMode(){return this._blendMode}set blendMode(e){this._blendMode=e,this.requestRender()}get clips(){return this._clips}set clips(e){this._clips=e,this.children.forEach((t=>t.clips=e))}get computedEffects(){var e,t;return null!=(e=null==(t=this._effectView)?void 0:t.effects)?e:null}get effect(){var e,t;return null!=(e=null==(t=this._effectView)?void 0:t.effect)?e:""}set effect(e){(this._effectView||e)&&(this._effectView||(this._effectView=new n.AM),this._effectView.effect=e,this.requestRender())}updateTransitionProperties(e,t){super.updateTransitionProperties(e,t),this._effectView&&(this._effectView.transitionStep(e,t),this._effectView.transitioning&&this.requestRender())}doRender(e){const t=this.createRenderParams(e);this.renderChildren(t)}addChild(e){return this.addChildAt(e,this.children.length)}addChildAt(e,t=this.children.length){if(!e)return e;if(this.contains(e))return e;this._needsSort=!0;const s=e.parent;return s&&s!==this&&s.removeChild(e),t>=this.children.length?this.children.push(e):this.children.splice(t,0,e),this._childrenSet.add(e),e.parent=this,e.stage=this.stage,this!==this.stage&&(e.clips=this.clips),this.requestRender(),e}contains(e){return this._childrenSet.has(e)}removeAllChildren(){this._childrenSet.clear(),this._needsSort=!0;for(const e of this.children)this!==this.stage&&(e.clips=null),e.stage=null,e.parent=null;this.children.length=0}removeChild(e){return this.contains(e)?this.removeChildAt(this.children.indexOf(e)):e}removeChildAt(e){if(e<0||e>=this.children.length)return null;this._needsSort=!0;const t=this.children.splice(e,1)[0];return this._childrenSet.delete(t),this!==this.stage&&(t.clips=null),t.stage=null,t.parent=null,t}sortChildren(e){this._needsSort&&(this.children.sort(e),this._needsSort=!1)}_createTransforms(){return{dvs:(0,i.c)()}}onAttach(){super.onAttach();const e=this.stage;for(const t of this.children)t.stage=e}onDetach(){super.onDetach();for(const e of this.children)e.stage=null}renderChildren(e){for(const t of this.children)t.beforeRender(e);for(const t of this.children)t.processRender(e);for(const t of this.children)t.afterRender(e)}createRenderParams(e){return{...e,blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:e.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition}}}},75393:function(e,t,s){s.d(t,{s:function(){return o}});var i=s(96545),n=s(81653),r=s(8693),a=s(92454);const l=1/(0,n.Z)("mapview-transitions-duration");class o extends i.Z{constructor(){super(...arguments),this._fadeOutResolver=null,this._fadeInResolver=null,this._clips=null,this.computedVisible=!0,this.computedOpacity=1,this.fadeTransitionEnabled=!1,this.inFadeTransition=!1,this._isReady=!1,this._opacity=1,this._stage=null,this._visible=!0}get clips(){return this._clips}set clips(e){this._clips=e,this.requestRender()}get isReady(){return this._isReady}get opacity(){return this._opacity}set opacity(e){this._opacity!==e&&(this._opacity=Math.min(1,Math.max(e,0)),this.requestRender())}get stage(){return this._stage}set stage(e){if(this._stage===e)return;const t=this._stage;this._stage=e,e?this._stage.untrashDisplayObject(this)||(this.onAttach(),this.emit("attach")):t.trashDisplayObject(this)}get transforms(){return this._getTransforms()}_getTransforms(){return(0,r.Wi)(this._transforms)&&(this._transforms=this._createTransforms()),this._transforms}get visible(){return this._visible}set visible(e){this._visible!==e&&(this._visible=e,this.requestRender())}fadeIn(){return this._fadeInResolver||(this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.computedOpacity=0,this.fadeTransitionEnabled=!0,this._fadeInResolver=(0,a.hh)(),this.requestRender()),this._fadeInResolver.promise}fadeOut(){return this._fadeOutResolver||(this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this.fadeTransitionEnabled=!0,this._fadeOutResolver=(0,a.hh)(),this.requestRender()),this._fadeOutResolver.promise}beforeRender(e){this.updateTransitionProperties(e.deltaTime,e.state.scale)}afterRender(e){this._fadeInResolver&&this.computedOpacity===this.opacity?(this._fadeInResolver(),this._fadeInResolver=null):this._fadeOutResolver&&0===this.computedOpacity&&(this._fadeOutResolver(),this._fadeOutResolver=null)}remove(){var e;null==(e=this.parent)||e.removeChild(this)}setTransform(e){}processRender(e){this.stage&&this.computedVisible&&this.doRender(e)}requestRender(){this.stage&&this.stage.requestRender()}processDetach(){this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.onDetach(),this.emit("detach")}updateTransitionProperties(e,t){if(this.fadeTransitionEnabled){const t=this._fadeOutResolver||!this.visible?0:this.opacity,s=this.computedOpacity;if(s===t)this.computedVisible=this.visible;else{const i=e*l;this.computedOpacity=s>t?Math.max(t,s-i):Math.min(t,s+i),this.computedVisible=this.computedOpacity>0;const n=t===this.computedOpacity;this.inFadeTransition=!n,n||this.requestRender()}}else this.computedOpacity=this.opacity,this.computedVisible=this.visible}onAttach(){}onDetach(){}doRender(e){}ready(){this._isReady||(this._isReady=!0,this.emit("isReady"),this.requestRender())}}},17962:function(e,t,s){var i,n;function r(e){switch(e){case"left":return i.Left;case"right":return i.Right;case"center":case"justify":return i.Center}}function a(e){switch(e){case"top":return n.Top;case"middle":return n.Center;case"baseline":return n.Baseline;case"bottom":return n.Bottom}}function l(e){switch(e){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[i.Right,n.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[i.Center,n.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[i.Left,n.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[i.Right,n.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[i.Center,n.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[i.Left,n.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[i.Right,n.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[i.Center,n.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[i.Left,n.Top];default:return console.debug(`Found invalid placement type ${e}`),[i.Center,n.Center]}}function o(e){switch(e){case i.Right:return-1;case i.Center:return 0;case i.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${e}`),0}}function h(e){switch(e){case n.Top:return 1;case n.Center:return 0;case n.Bottom:case n.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${e}`),0}}function c(e){switch(e){case"left":return i.Left;case"right":return i.Right;case"center":case"justify":return i.Center}}function u(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}s.d(t,{Hd:function(){return c},M7:function(){return i},NS:function(){return u},TR:function(){return n},b7:function(){return a},g:function(){return o},kH:function(){return r},qv:function(){return l},tf:function(){return h}}),function(e){e[e.Left=-1]="Left",e[e.Center=0]="Center",e[e.Right=1]="Right"}(i||(i={})),function(e){e[e.Top=1]="Top",e[e.Center=0]="Center",e[e.Bottom=-1]="Bottom",e[e.Baseline=2]="Baseline"}(n||(n={}))},62055:function(e,t,s){s.d(t,{Gq:function(){return B},a:function(){return I},dk:function(){return A},jj:function(){return L},m2:function(){return C},mE:function(){return E},qr:function(){return F}});s(21703);var i=s(22130),n=s(17962),r=s(34150);function a(e,t){const s=r.X.SIZE_FIELD_STOPS|r.X.SIZE_MINMAX_VALUE|r.X.SIZE_SCALE_STOPS|r.X.SIZE_UNIT_VALUE,i=(e&(r.mf.FIELD_TARGETS_OUTLINE|r.mf.MINMAX_TARGETS_OUTLINE|r.mf.SCALE_TARGETS_OUTLINE|r.mf.UNIT_TARGETS_OUTLINE))>>>4;return t.isOutline||t.isOutlinedFill?s&i:s&~i}const l=0,o=8,h=7,c=8,u=11,d=11,f=12,v=13,p=14,_=15,S=15,g=16,m=17,V=18,y=19,b=20,R=21,T=22;function L(e,t){switch(e){case r.LW.FILL:return A.from(t);case r.LW.LINE:return I.from(t);case r.LW.MARKER:return E.from(t);case r.LW.TEXT:return F.from(t);case r.LW.LABEL:return B.from(t);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${e}`)}}class C{constructor(e){this._data=0,this._data=e}static load(e){const t=this.shared;return t.data=e,t}set data(e){this._data=e}get data(){return this._data}get geometryType(){return this.bits(c,u)}set geometryType(e){this.setBits(e,c,u)}get mapAligned(){return!!this.bit(b)}set mapAligned(e){this.setBit(b,e)}get sdf(){return!!this.bit(d)}set sdf(e){this.setBit(d,e)}get pattern(){return!!this.bit(f)}set pattern(e){this.setBit(f,e)}get textureBinding(){return this.bits(l,o)}set textureBinding(e){this.setBits(e,l,o)}get geometryTypeString(){switch(this.geometryType){case r.LW.FILL:return"fill";case r.LW.MARKER:return"marker";case r.LW.LINE:return"line";case r.LW.TEXT:return"text";case r.LW.LABEL:return"label";default:throw new i.Z(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(e,t){const s=1<<e;t?this._data|=s:this._data&=~s}bit(e){return(this._data&1<<e)>>e}setBits(e,t,s){for(let i=t,n=0;i<s;i++,n++)this.setBit(i,0!=(e&1<<n))}bits(e,t){let s=0;for(let i=e,n=0;i<t;i++,n++)s|=this.bit(i)<<n;return s}hasVV(){return!1}setVV(e,t){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf}}getVariationHash(){return this._data&~(h&this.textureBinding)}}C.shared=new C(0);const O=e=>class extends e{get vvSizeMinMaxValue(){return 0!==this.bit(g)}set vvSizeMinMaxValue(e){this.setBit(g,e)}get vvSizeScaleStops(){return 0!==this.bit(m)}set vvSizeScaleStops(e){this.setBit(m,e)}get vvSizeFieldStops(){return 0!==this.bit(V)}set vvSizeFieldStops(e){this.setBit(V,e)}get vvSizeUnitValue(){return 0!==this.bit(y)}set vvSizeUnitValue(e){this.setBit(y,e)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(e,t){super.setVV(e,t);const s=a(e,t)&e;this.vvSizeMinMaxValue=!!(s&r.X.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(s&r.X.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(s&r.X.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(s&r.X.SIZE_SCALE_STOPS)}},z=e=>class extends e{get vvRotation(){return 0!==this.bit(_)}set vvRotation(e){this.setBit(_,e)}hasVV(){return super.hasVV()||this.vvRotation}setVV(e,t){super.setVV(e,t),this.vvRotation=!t.isOutline&&!!(e&r.X.ROTATION)}},w=e=>class extends e{get vvColor(){return 0!==this.bit(v)}set vvColor(e){this.setBit(v,e)}hasVV(){return super.hasVV()||this.vvColor}setVV(e,t){super.setVV(e,t),this.vvColor=!t.isOutline&&!!(e&r.X.COLOR)}},M=e=>class extends e{get vvOpacity(){return 0!==this.bit(p)}set vvOpacity(e){this.setBit(p,e)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(e,t){super.setVV(e,t),this.vvOpacity=!t.isOutline&&!!(e&r.X.OPACITY)}};class A extends(w(M(O(C)))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=r.LW.FILL,t.dotDensity="dot-density"===e.stride.fill,t.simple="simple"===e.stride.fill,t.outlinedFill=e.isOutlinedFill,t.dotDensity||t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),dotDensity:this.dotDensity,outlinedFill:this.outlinedFill,simple:this.simple,vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}get dotDensity(){return!!this.bit(S)}set dotDensity(e){this.setBit(S,e)}get simple(){return!!this.bit(T)}set simple(e){this.setBit(T,e)}get outlinedFill(){return!!this.bit(R)}set outlinedFill(e){this.setBit(R,e)}}A.shared=new A(0);class E extends(w(M(z(O(C))))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=r.LW.MARKER,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}E.shared=new E(0);class I extends(w(M(O(C)))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=r.LW.LINE,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}I.shared=new I(0);class F extends(w(M(z(O(C))))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=r.LW.TEXT,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}F.shared=new F(0);class B extends(O(C)){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=r.LW.LABEL,t.setVV(e.vvFlags,e),t.mapAligned=(0,n.NS)(e.placement),t.data}getVariation(){return{...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}B.shared=new B(0)}}]);
//# sourceMappingURL=3491.81ff1304.js.map