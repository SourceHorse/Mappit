{"version":3,"file":"js/9968.4d18f36c.js","mappings":"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","sources":["webpack://mappitweb/./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js","webpack://mappitweb/./node_modules/@arcgis/core/layers/ogc/dateUtils.js","webpack://mappitweb/./node_modules/@arcgis/core/layers/ogc/wfsUtils.js","webpack://mappitweb/./node_modules/@arcgis/core/layers/ogc/xmlUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{OptimizedFeature as t}from\"../../OptimizedFeature.js\";import n from\"../../OptimizedGeometry.js\";import{isNumericField as o}from\"../../../support/fieldUtils.js\";const r={LineString:\"esriGeometryPolyline\",MultiLineString:\"esriGeometryPolyline\",MultiPoint:\"esriGeometryMultipoint\",Point:\"esriGeometryPoint\",Polygon:\"esriGeometryPolygon\",MultiPolygon:\"esriGeometryPolygon\"};function i(e){return r[e]}function*s(e){switch(e.type){case\"Feature\":yield e;break;case\"FeatureCollection\":for(const t of e.features)t&&(yield t)}}function*c(e){if(!e)return null;switch(e.type){case\"Point\":yield e.coordinates;break;case\"LineString\":case\"MultiPoint\":yield*e.coordinates;break;case\"MultiLineString\":case\"Polygon\":for(const t of e.coordinates)yield*t;break;case\"MultiPolygon\":for(const t of e.coordinates)for(const e of t)yield*e}}function*u(e,o={}){const{geometryType:r,objectIdField:s}=o;for(const u of e){var c;const{geometry:e,properties:l,id:f}=u;if(e&&i(e.type)!==r)continue;const a=l||{};let y=null!=(c=a[s])?c:null;s&&null!=f&&!a[s]&&(a[s]=y=f);const p=new t(e?d(new n,e,o):null,a,null,y);yield p}}function l(e){for(const t of e)if(t.length>2)return!0;return!1}function f(e){return!y(e)}function a(e){return y(e)}function y(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function p(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function d(e,t,n){switch(t.type){case\"LineString\":return g(e,t,n);case\"MultiLineString\":return m(e,t,n);case\"MultiPoint\":return h(e,t,n);case\"MultiPolygon\":return w(e,t,n);case\"Point\":return P(e,t,n);case\"Polygon\":return b(e,t,n)}}function g(e,t,n){return F(e,t.coordinates,n),e}function m(e,t,n){for(const o of t.coordinates)F(e,o,n);return e}function h(e,t,n){return F(e,t.coordinates,n),e}function w(e,t,n){for(const o of t.coordinates){j(e,o[0],n);for(let t=1;t<o.length;t++)S(e,o[t],n)}return e}function P(e,t,n){return M(e,t.coordinates,n),e}function b(e,t,n){const o=t.coordinates;j(e,o[0],n);for(let r=1;r<o.length;r++)S(e,o[r],n);return e}function j(e,t,n){const o=p(t);f(o)?G(e,o,n):F(e,o,n)}function S(e,t,n){const o=p(t);a(o)?G(e,o,n):F(e,o,n)}function F(e,t,n){for(const o of t)M(e,o,n);e.lengths.push(t.length)}function G(e,t,n){for(let o=t.length-1;o>=0;o--)M(e,t[o],n);e.lengths.push(t.length)}function M(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function k(e){switch(typeof e){case\"string\":return\"esriFieldTypeString\";case\"number\":return\"esriFieldTypeDouble\";default:return\"unknown\"}}function O(t){if(!t)throw new e(\"geojson-layer:empty\",\"GeoJSON data is empty\");if(\"Feature\"!==t.type&&\"FeatureCollection\"!==t.type)throw new e(\"geojson-layer:unsupported-geojson-object\",\"missing or not supported GeoJSON object type\",{data:t});const{crs:n}=t;if(!n)return;const o=\"string\"==typeof n?n:\"name\"===n.type?n.properties.name:\"EPSG\"===n.type?n.properties.code:null,r=new RegExp(\".*(CRS84H?|4326)$\",\"i\");if(!o||!r.test(o))throw new e(\"geojson-layer:unsupported-crs\",\"unsupported GeoJSON 'crs' member\",{crs:n})}function T(e,t={}){const n=[],r=new Set,u=new Set;let f,a=!1,y=null,p=!1,{geometryType:d=null}=t,g=!1;for(const o of s(e)){const{geometry:e,properties:t,id:s}=o;if(!e||(d||(d=i(e.type)),i(e.type)===d)){if(!a){a=l(c(e))}if(p||(p=null!=s,p&&(f=typeof s,y=Object.keys(t).filter((e=>t[e]===s)))),p&&null!=s&&(y.length>1?y=y.filter((e=>t[e]===s)):1===y.length&&(y=t[y[0]]===s?y:[])),!g&&t){let e=!0;for(const o in t){if(r.has(o))continue;const i=t[o];if(null==i){e=!1,u.add(o);continue}const s=k(i);\"unknown\"!==s?(u.delete(o),r.add(o),n.push({name:o,alias:o,type:s})):u.add(o)}g=e}}}const m=y&&1===y.length&&y[0]||null;if(m)for(const i of n)if(i.name===m&&o(i)){i.type=\"esriFieldTypeOID\";break}return{fields:n,geometryType:d,hasZ:a,objectIdFieldName:m,objectIdFieldType:f,unknownFields:Array.from(u)}}function L(e,t){return Array.from(u(s(e),t))}export{L as createOptimizedFeatures,i as getGeometryType,T as inferLayerProperties,O as validateGeoJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction n(n){var s;return null!=(s=t(n))?s:e(n)}function e(n){const e=new Date(n).getTime();return Number.isNaN(e)?null:e}function t(n){var e,t,u,r;const o=s.exec(n);if(!o)return null;const l=o.groups,f=+l.year,i=+l.month-1,d=+l.day,a=+(null!=(e=l.hours)?e:\"0\"),c=+(null!=(t=l.minutes)?t:\"0\"),m=+(null!=(u=l.seconds)?u:\"0\");if(a>23)return null;if(c>59)return null;if(m>59)return null;const g=null!=(r=l.ms)?r:\"0\",T=g?+g.padEnd(3,\"0\").substring(0,3):0;let N;if(l.isUTC)N=Date.UTC(f,i,d,a,c,m,T);else if(l.offsetSign){const n=+l.offsetHours,e=+l.offsetMinutes;N=6e4*(\"+\"===l.offsetSign?-1:1)*(60*n+e)+Date.UTC(f,i,d,a,c,m,T)}else N=new Date(f,i,d,a,c,m,T).getTime();return Number.isNaN(N)?null:N}const s=/^(?:(?<year>-?\\d{4,})-(?<month>\\d{2})-(?<day>\\d{2}))(?:T(?<hours>\\d{2}):(?<minutes>\\d{2}):(?<seconds>\\d{2})(?:\\.(?<ms>\\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\\+|-)(?<offsetHours>\\d{2}):(?<offsetMinutes>\\d{2})))?$/;export{n as parseDate,e as parseJSDate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import t from\"../../core/Error.js\";import{find as r,cache as n}from\"../../core/iteratorUtils.js\";import{isNone as a,isSome as o}from\"../../core/maybe.js\";import{eachAlways as i}from\"../../core/promiseUtils.js\";import{isHTTPSProtocol as s,hasSameOrigin as u,toHTTPS as l}from\"../../core/urlUtils.js\";import{initializeProjection as p,project as c}from\"../../geometry/projection.js\";import{WGS84 as m,equals as y}from\"../../geometry/support/spatialReferenceUtils.js\";import{featureGeometryTypeKebabDictionary as f}from\"../../geometry/support/typeUtils.js\";import{getGeometryType as d}from\"../graphics/sources/geojson/geojson.js\";import{parseDate as g}from\"./dateUtils.js\";import{iterateXML as w,visitXML as b}from\"./xmlUtils.js\";import h from\"../support/Field.js\";import T from\"../../geometry/SpatialReference.js\";import F from\"../../geometry/Extent.js\";const S=\"xlink:href\",x=\"2.0.0\",v=\"__esri_wfs_id__\",C=\"wfs-layer:getWFSLayerTypeInfo-error\",E=\"wfs-layer:empty-service\",N=\"wfs-layer:feature-type-not-found\",P=\"wfs-layer:geojson-not-supported\",R=\"wfs-layer:kvp-encoding-not-supported\",j=\"wfs-layer:malformed-json\",A=\"wfs-layer:unknown-geometry-type\",G=\"wfs-layer:unknown-field-type\",k=\"wfs-layer:unsupported-spatial-reference\",U=\"wfs-layer:unsupported-wfs-version\";async function D(t,r){const n=I((await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetCapabilities\",VERSION:x,...null==r?void 0:r.customParameters},signal:null==r?void 0:r.signal})).data);return $(t,n),n}function I(e){const t=te(e);ne(t),ae(t);const r=t.firstElementChild,a=n(M(r));return{operations:L(r),get featureTypes(){return Array.from(a())},readFeatureTypes:a}}const O=new Set([\"json\",\"application/json\",\"geojson\",\"application/json; subtype=geojson\"]);function L(e){let r=!1;const n={GetCapabilities:{url:\"\"},DescribeFeatureType:{url:\"\"},GetFeature:{url:\"\",outputFormat:null,supportsPagination:!1}};if(b(e,{OperationsMetadata:{Operation:e=>{switch(e.getAttribute(\"name\")){case\"GetCapabilities\":return{DCP:{HTTP:{Get:e=>{n.GetCapabilities.url=e.getAttribute(S)}}}};case\"DescribeFeatureType\":return{DCP:{HTTP:{Get:e=>{n.DescribeFeatureType.url=e.getAttribute(S)}}}};case\"GetFeature\":return{DCP:{HTTP:{Get:e=>{n.GetFeature.url=e.getAttribute(S)}}},Parameter:e=>{if(\"outputFormat\"===e.getAttribute(\"name\"))return{AllowedValues:{Value:e=>{const t=e.textContent;O.has(t.toLowerCase())&&(n.GetFeature.outputFormat=t)}}}}}}},Constraint:e=>{switch(e.getAttribute(\"name\")){case\"KVPEncoding\":return{DefaultValue:e=>{r=\"true\"===e.textContent.toLowerCase()}};case\"ImplementsResultPaging\":return{DefaultValue:e=>{n.GetFeature.supportsPagination=\"true\"===e.textContent.toLowerCase()}}}}}}),!r)throw new t(R,\"WFS service doesn't support key/value pair (KVP) encoding\");if(a(n.GetFeature.outputFormat))throw new t(P,\"WFS service doesn't support GeoJSON output format\");return n}function $(e,t){s(e)&&(u(e,t.operations.DescribeFeatureType.url,!0)&&(t.operations.DescribeFeatureType.url=l(t.operations.DescribeFeatureType.url)),u(e,t.operations.GetFeature.url,!0)&&(t.operations.GetFeature.url=l(t.operations.GetFeature.url)))}function M(e){return w(e,{FeatureTypeList:{FeatureType:e=>{const t={typeName:\"undefined:undefined\",name:\"\",title:\"\",description:\"\",extent:null,namespacePrefix:\"\",namespaceUri:\"\",supportedSpatialReferences:[]},r=new Set([4326]),n=e=>{var t,n;const a=parseInt(null==(t=e.textContent.match(/(?<wkid>\\d+$)/i))||null==(n=t.groups)?void 0:n.wkid,10);Number.isNaN(a)||r.add(a)};return b(e,{Name:e=>{const{name:r,prefix:n}=re(e.textContent);t.typeName=`${n}:${r}`,t.name=r,t.namespacePrefix=n,t.namespaceUri=e.lookupNamespaceURI(n)},Abstract:e=>{t.description=e.textContent},Title:e=>{t.title=e.textContent},WGS84BoundingBox:e=>{t.extent=V(e)},DefaultSRS:n,DefaultCRS:n,OtherSRS:n,OtherCRS:n}),t.title||(t.title=t.name),t.supportedSpatialReferences.push(...r),t}}})}function V(e){let t,r,n,a;for(const o of e.children)switch(o.localName){case\"LowerCorner\":[t,r]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)));break;case\"UpperCorner\":[n,a]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)))}return{xmin:t,ymin:r,xmax:n,ymax:a,spatialReference:m}}function W(e,t,n){return r(e,(e=>n?e.name===t&&e.namespaceUri===n:e.typeName===t||e.name===t))}async function X(e,t,r,n={}){var a;const{featureType:o,extent:i}=await Y(e,t,r,n),{fields:s,geometryType:u,swapXY:l,objectIdField:p,geometryField:c}=await q(e,o.typeName,n);return{url:e.operations.GetCapabilities.url,name:o.name,namespaceUri:o.namespaceUri,fields:s,geometryField:c,geometryType:u,objectIdField:p,spatialReference:null!=(a=n.spatialReference)?a:T.WGS84,extent:i,swapXY:l,wfsCapabilities:e,customParameters:n.customParameters}}async function Y(e,r,n,o={}){const{spatialReference:i=T.WGS84}=o,s=e.readFeatureTypes(),u=r?W(s,r,n):s.next().value;if(a(u))throw r?new t(N,`The type '${r}' could not be found in the service`):new t(E,\"The service is empty\");let l=new F({...u.extent,spatialReference:i});if(!y(i,m))try{await p(m,i,void 0,o),l=c(l,m)}catch{throw new t(k,\"Projection not supported\")}return{extent:l,spatialReference:i,featureType:u}}async function q(e,r,n={}){const[o,s]=await i([J(e.operations.DescribeFeatureType.url,r,n),_(e,r,n)]);if(o.error||s.error)throw new t(C,`An error occurred while getting info about the feature type '${r}'`,{error:o.error||s.error});const{fields:u,errors:l}=o.value,p=o.value.geometryType||s.value.geometryType,c=s.value.swapXY;if(a(p))throw new t(A,`The geometry type could not be determined for type '${r}`,{typeName:r,geometryType:p,fields:u,errors:l});return{...z(u),geometryType:p,swapXY:c}}function z(e){var t;const r=e.find((e=>\"geometry\"===e.type));let n=e.find((e=>\"oid\"===e.type));return e=e.filter((e=>\"geometry\"!==e.type)),n||(n=new h({name:v,type:\"oid\",alias:v}),e.unshift(n)),{geometryField:null!=(t=null==r?void 0:r.name)?t:null,objectIdField:n.name,fields:e}}async function _(t,r,n={}){var a;let o,i=!1;const[s,u]=await Promise.all([K(t.operations.GetFeature.url,r,t.operations.GetFeature.outputFormat,{...n,count:1}),e(t.operations.GetFeature.url,{responseType:\"text\",query:Z(r,void 0,{...n,count:1}),signal:null==n?void 0:n.signal})]),l=\"FeatureCollection\"===s.type&&(null==(a=s.features[0])?void 0:a.geometry);if(l){let e;switch(o=f.fromJSON(d(l.type)),l.type){case\"Point\":e=l.coordinates;break;case\"LineString\":case\"MultiPoint\":e=l.coordinates[0];break;case\"MultiLineString\":case\"Polygon\":e=l.coordinates[0][0];break;case\"MultiPolygon\":e=l.coordinates[0][0][0]}const t=/<[^>]*pos[^>]*> *(-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?)/.exec(u.data);if(t){const r=e[0].toFixed(3),n=e[1].toFixed(3),a=parseFloat(t[1]).toFixed(3);r===parseFloat(t[2]).toFixed(3)&&n===a&&(i=!0)}}return{geometryType:o,swapXY:i}}async function J(t,r,n){return Q(r,(await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"DescribeFeatureType\",VERSION:x,TYPENAME:r,...null==n?void 0:n.customParameters},signal:null==n?void 0:n.signal})).data)}function Q(e,n){const{name:a}=re(e),i=te(n);ae(i);const s=r(w(i.firstElementChild,{element:e=>({name:e.getAttribute(\"name\"),typeName:re(e.getAttribute(\"type\")).name})}),(({name:e})=>e===a));if(o(s)){const e=r(w(i.firstElementChild,{complexType:e=>e}),(e=>e.getAttribute(\"name\")===s.typeName));if(o(e))return B(e)}throw new t(N,`Type '${e}' not found in document`,{document:(new XMLSerializer).serializeToString(i)})}const H=new Set([\"objectid\",\"fid\"]);function B(e){var r,n;const a=[],o=[];let i;const s=w(e,{complexContent:{extension:{sequence:{element:e=>e}}}});for(const u of s){const s=u.getAttribute(\"name\");if(!s)continue;let l,p;if(u.hasAttribute(\"type\")?l=re(u.getAttribute(\"type\")).name:b(u,{simpleType:{restriction:e=>(l=re(e.getAttribute(\"base\")).name,{maxLength:e=>{p=+e.getAttribute(\"value\")}})}}),!l)continue;const c=\"true\"===u.getAttribute(\"nillable\");let m=!1;switch(l.toLowerCase()){case\"integer\":case\"nonpositiveinteger\":case\"negativeinteger\":case\"long\":case\"int\":case\"short\":case\"byte\":case\"nonnegativeinteger\":case\"unsignedlong\":case\"unsignedint\":case\"unsignedshort\":case\"unsignedbyte\":case\"positiveinteger\":o.push(new h({name:s,alias:s,type:\"integer\",nullable:c}));break;case\"float\":case\"double\":case\"decimal\":o.push(new h({name:s,alias:s,type:\"double\",nullable:c}));break;case\"boolean\":case\"string\":case\"gyearmonth\":case\"gyear\":case\"gmonthday\":case\"gday\":case\"gmonth\":case\"anyuri\":case\"qname\":case\"notation\":case\"normalizedstring\":case\"token\":case\"language\":case\"idrefs\":case\"entities\":case\"nmtoken\":case\"nmtokens\":case\"name\":case\"ncname\":case\"id\":case\"idref\":case\"entity\":case\"duration\":case\"time\":o.push(new h({name:s,alias:s,type:\"string\",nullable:c,length:null!=(r=p)?r:255}));break;case\"datetime\":case\"date\":o.push(new h({name:s,alias:s,type:\"date\",nullable:c,length:null!=(n=p)?n:36}));break;case\"pointpropertytype\":i=\"point\",m=!0;break;case\"multipointpropertytype\":i=\"multipoint\",m=!0;break;case\"curvepropertytype\":case\"multicurvepropertytype\":case\"multilinestringpropertytype\":i=\"polyline\",m=!0;break;case\"surfacepropertytype\":case\"multisurfacepropertytype\":case\"multipolygonpropertytype\":i=\"polygon\",m=!0;break;case\"geometrypropertytype\":case\"multigeometrypropertytype\":m=!0,a.push(new t(A,`geometry type '${l}' is not supported`,{type:(new XMLSerializer).serializeToString(e)}));break;default:a.push(new t(G,`Unknown field type '${l}'`,{type:(new XMLSerializer).serializeToString(e)}))}m&&o.push(new h({name:s,alias:s,type:\"geometry\",nullable:c}))}for(const t of o)if(\"integer\"===t.type&&!t.nullable&&H.has(t.name.toLowerCase())){t.type=\"oid\";break}return{geometryType:i,fields:o,errors:a}}async function K(r,n,a,o){let{data:i}=await e(r,{responseType:\"text\",query:Z(n,a,o),signal:null==o?void 0:o.signal});i=i.replace(/\": +(-?\\d+),(\\d+)(,)?/g,'\": $1.$2$3');try{var s;if(null!=o&&null!=(s=o.dateFields)&&s.length){const e=new Set(o.dateFields);return JSON.parse(i,((t,r)=>e.has(t)?g(r):r))}return JSON.parse(i)}catch(u){throw new t(j,\"Error while parsing the response\",{response:i,error:u})}}function Z(e,t,r){return{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:x,TYPENAMES:e,OUTPUTFORMAT:t,SRSNAME:\"EPSG:4326\",STARTINDEX:null==r?void 0:r.startIndex,COUNT:null==r?void 0:r.count,...null==r?void 0:r.customParameters}}async function ee(t,r,n){const a=te((await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:x,TYPENAMES:r,RESULTTYPE:\"hits\",...null==n?void 0:n.customParameters},signal:null==n?void 0:n.signal})).data);ae(a);const o=Number.parseFloat(a.firstElementChild.getAttribute(\"numberMatched\"));return Number.isNaN(o)?0:o}function te(e){return(new DOMParser).parseFromString(e.trim(),\"text/xml\")}function re(e){const[t,r]=e.split(\":\");return{prefix:r?t:\"\",name:null!=r?r:t}}function ne(e){const r=e.firstElementChild.getAttribute(\"version\");if(r&&r!==x)throw new t(U,`Unsupported WFS version ${r}. Supported version: ${x}`)}function ae(e){let r,n;if(b(e.firstElementChild,{Exception:e=>(r=e.getAttribute(\"exceptionCode\"),{ExceptionText:e=>{n=e.textContent}})}),r)throw new t(`wfs-layer:${r}`,n)}export{v as WFS_OID_FIELD_NAME,J as describeFeatureType,W as findFeatureType,D as getCapabilities,K as getFeature,ee as getFeatureCount,Y as getFeatureTypeInfo,X as getWFSLayerInfo,Q as parseDescribeFeatureTypeResponse,I as parseGetCapabilitiesResponse,z as prepareWFSLayerFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction o(n,c){for(const e of n.children)if(e.localName in c){const n=c[e.localName];if(\"function\"==typeof n){const c=n(e);c&&o(e,c)}else o(e,n)}}function*n(o,c){for(const e of o.children)if(e.localName in c){const o=c[e.localName];\"function\"==typeof o?yield o(e):yield*n(e,o)}}export{n as iterateXML,o as visitXML};\n"],"names":["r","LineString","MultiLineString","MultiPoint","Point","Polygon","MultiPolygon","i","e","s","type","t","features","c","coordinates","u","o","geometryType","objectIdField","geometry","properties","l","id","f","a","y","p","d","n","length","push","g","m","h","w","P","b","F","j","S","M","G","lengths","coords","hasZ","k","O","data","crs","name","code","RegExp","test","T","Set","Object","keys","filter","has","add","delete","alias","fields","objectIdFieldName","objectIdFieldType","unknownFields","Array","from","L","Date","getTime","Number","isNaN","exec","groups","year","month","day","hours","minutes","seconds","ms","padEnd","substring","N","isUTC","UTC","offsetSign","offsetHours","offsetMinutes","x","v","C","E","R","A","U","async","D","I","responseType","query","SERVICE","REQUEST","VERSION","customParameters","signal","$","te","ne","ae","firstElementChild","operations","featureTypes","readFeatureTypes","GetCapabilities","url","DescribeFeatureType","GetFeature","outputFormat","supportsPagination","OperationsMetadata","Operation","getAttribute","DCP","HTTP","Get","Parameter","AllowedValues","Value","textContent","toLowerCase","Constraint","DefaultValue","FeatureTypeList","FeatureType","typeName","title","description","extent","namespacePrefix","namespaceUri","supportedSpatialReferences","parseInt","match","wkid","Name","prefix","re","lookupNamespaceURI","Abstract","Title","WGS84BoundingBox","V","DefaultSRS","DefaultCRS","OtherSRS","OtherCRS","children","localName","split","map","parseFloat","xmin","ymin","xmax","ymax","spatialReference","W","X","featureType","Y","swapXY","geometryField","q","wfsCapabilities","next","value","J","_","error","errors","z","find","unshift","Promise","all","K","count","Z","toFixed","Q","TYPENAME","element","complexType","B","document","XMLSerializer","serializeToString","H","complexContent","extension","sequence","hasAttribute","simpleType","restriction","maxLength","nullable","replace","dateFields","JSON","parse","response","TYPENAMES","OUTPUTFORMAT","SRSNAME","STARTINDEX","startIndex","COUNT","DOMParser","parseFromString","trim","Exception","ExceptionText"],"sourceRoot":""}