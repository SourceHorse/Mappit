"use strict";(self["webpackChunkmappitweb"]=self["webpackChunkmappitweb"]||[]).push([[5817],{85381:function(e,n,t){t.d(n,{a:function(){return s},c:function(){return r},f:function(){return i}});t(48675),t(3462);function r(){return[0,0,0,0]}function o(e){return[e[0],e[1],e[2],e[3]]}function i(e,n,t,r){return[e,n,t,r]}function f(e){const n=r(),t=Math.min(4,e.length);for(let r=0;r<t;++r)n[r]=e[r];return n}function s(e,n){return new Float64Array(e,n,4)}function u(){return r()}function a(){return i(1,1,1,1)}function c(){return i(1,0,0,0)}function l(){return i(0,1,0,0)}function d(){return i(0,0,1,0)}function y(){return i(0,0,0,1)}const b=u(),m=a(),h=c(),p=l(),E=d(),w=y();Object.freeze({__proto__:null,create:r,clone:o,fromValues:i,fromArray:f,createView:s,zeros:u,ones:a,unitX:c,unitY:l,unitZ:d,unitW:y,ZEROS:b,ONES:m,UNIT_X:h,UNIT_Y:p,UNIT_Z:E,UNIT_W:w})},75817:function(e,n,t){t.r(n),t.d(n,{destroyContext:function(){return P},dracoDecompressPointCloudData:function(){return p},filterObbsForModifications:function(){return E},filterObbsForModificationsSync:function(){return T},initialize:function(){return R},interpretObbModificationResults:function(){return L},process:function(){return h},setLegacySchema:function(){return g},setModifications:function(){return w},setModificationsSync:function(){return I},test:function(){return M}});t(48675),t(3462);var r,o,i=t(8693),f=t(928);!function(e){e[e.None=0]="None",e[e.Int16=1]="Int16",e[e.Int32=2]="Int32"}(r||(r={})),function(e){e[e.Replace=0]="Replace",e[e.Outside=1]="Outside",e[e.Inside=2]="Inside",e[e.Finished=3]="Finished"}(o||(o={}));var s=t(27123);function u(){return c||(c=new Promise((e=>t.e(4156).then(t.bind(t,44156)).then((e=>e.i)).then((({default:n})=>{const t=n({locateFile:a,onRuntimeInitialized:()=>e(t)});delete t.then})))).catch((e=>Promise.reject(e)))),c}function a(e){return(0,s.V)(`esri/libs/i3s/${e}`)}let c;var l,d,y,b,m;t(85381);!function(e){e[e.Unmodified=0]="Unmodified",e[e.Culled=1]="Culled",e[e.NotChecked=2]="NotChecked"}(l||(l={})),function(e){e[e.Unmodified=0]="Unmodified",e[e.PotentiallyModified=1]="PotentiallyModified",e[e.Culled=2]="Culled",e[e.Unknown=3]="Unknown",e[e.NotChecked=4]="NotChecked"}(d||(d={}));!function(e){e[e.Unknown=0]="Unknown",e[e.Uncached=1]="Uncached",e[e.Cached=2]="Cached"}(y||(y={})),function(e){e[e.None=0]="None",e[e.MaxScreenThreshold=1]="MaxScreenThreshold",e[e.ScreenSpaceRelative=2]="ScreenSpaceRelative",e[e.RemovedFeatureDiameter=3]="RemovedFeatureDiameter",e[e.DistanceRangeFromDefaultCamera=4]="DistanceRangeFromDefaultCamera"}(b||(b={})),function(e){e[e.Hole=0]="Hole",e[e.Leaf=1]="Leaf"}(m||(m={}));async function h(e){await R();const n=[e.geometryBuffer];return{result:A(e,n),transferList:n}}async function p(e){var n;await R();const t=[e.geometryBuffer],{geometryBuffer:r}=e,o=r.byteLength,i=U._malloc(o),s=new Uint8Array(U.HEAPU8.buffer,i,o);s.set(new Uint8Array(r));const u=U.dracoDecompressPointCloudData(i,s.byteLength);if(U._free(i),u.error.length>0)throw`i3s.wasm: ${u.error}`;const a=(null==(n=u.featureIds)?void 0:n.length)>0?(0,f.tP)(u.featureIds):null,c=(0,f.tP)(u.positions);return a&&t.push(a.buffer),t.push(c.buffer),{result:{positions:c,featureIds:a},transferList:t}}async function E(e){await R(),T(e);const n={buffer:e.buffer};return{result:n,transferList:[n.buffer]}}async function w(e){await R(),I(e)}async function g(e){await R(),U.setLegacySchema(e.context,e.jsonSchema)}function P(e){C(e)}let _,U;function I(e){const n=e.modifications,t=U._malloc(8*n.length),r=new Float64Array(U.HEAPU8.buffer,t,n.length);for(let o=0;o<n.length;++o)r[o]=n[o];U.setModifications(e.context,t,n.length,e.isGeodetic),U._free(t)}function A(e,n){if(!U)return null;const{context:t,localOrigin:o,globalTrafo:s,mbs:u,obb:a,elevationOffset:c,geometryBuffer:l,geometryDescriptor:d,indexToVertexProjector:y,vertexToRenderProjector:b}=e,m=U._malloc(l.byteLength),h=33,p=U._malloc(h*Float64Array.BYTES_PER_ELEMENT),E=new Uint8Array(U.HEAPU8.buffer,m,l.byteLength);E.set(new Uint8Array(l));const w=new Float64Array(U.HEAPU8.buffer,p,h);F(w,o);let g=w.byteOffset+3*w.BYTES_PER_ELEMENT,P=new Float64Array(w.buffer,g);F(P,s),g+=16*w.BYTES_PER_ELEMENT,P=new Float64Array(w.buffer,g),F(P,u),g+=4*w.BYTES_PER_ELEMENT,(0,i.pC)(a)&&(P=new Float64Array(w.buffer,g),F(P,a.center),g+=3*w.BYTES_PER_ELEMENT,P=new Float64Array(w.buffer,g),F(P,a.halfSize),g+=3*w.BYTES_PER_ELEMENT,P=new Float64Array(w.buffer,g),F(P,a.quaternion));const _=d,I={isDraco:!1,isLegacy:!1,color:e.layouts.some((e=>e.some((e=>"color"===e.name)))),normal:e.needNormals&&e.layouts.some((e=>e.some((e=>"normalCompressed"===e.name)))),uv0:e.layouts.some((e=>e.some((e=>"uv0"===e.name)))),uvRegion:e.layouts.some((e=>e.some((e=>"uvRegion"===e.name)))),featureIndex:_.featureIndex},A=U.process(t,!!e.obb,m,E.byteLength,_,I,p,c,y,b,e.normalReferenceFrame);if(U._free(p),U._free(m),A.error.length>0)throw`i3s.wasm: ${A.error}`;if(A.discarded)return null;const L=A.componentOffsets.length>0?(0,f.tP)(A.componentOffsets):null,T=A.featureIds.length>0?(0,f.tP)(A.featureIds):null,C=(0,f.tP)(A.interleavedVertedData).buffer,R=A.indicesType===r.Int16?(0,f.tP)(new Uint16Array(A.indices.buffer,A.indices.byteOffset,A.indices.byteLength/2)):(0,f.tP)(new Uint32Array(A.indices.buffer,A.indices.byteOffset,A.indices.byteLength/4)),M=(0,f.tP)(A.positions),N=A.positionIndicesType===r.Int16?(0,f.tP)(new Uint16Array(A.positionIndices.buffer,A.positionIndices.byteOffset,A.positionIndices.byteLength/2)):(0,f.tP)(new Uint32Array(A.positionIndices.buffer,A.positionIndices.byteOffset,A.positionIndices.byteLength/4)),S={layout:e.layouts[0],interleavedVertexData:C,indices:R,hasColors:A.hasColors,hasModifications:A.hasModifications,positionData:{data:M,indices:N}};return T&&n.push(T.buffer),L&&n.push(L.buffer),n.push(C),n.push(R.buffer),n.push(M.buffer),n.push(N.buffer),{componentOffsets:L,featureIds:T,transformedGeometry:S,obb:A.obb}}function L(e){return 0===e?d.Unmodified:1===e?d.PotentiallyModified:2===e?d.Culled:d.Unknown}function T(e){const{context:n,buffer:t}=e,r=U._malloc(t.byteLength),o=t.byteLength/Float64Array.BYTES_PER_ELEMENT,i=new Float64Array(U.HEAPU8.buffer,r,o),f=new Float64Array(t);i.set(f),U.filterOBBs(n,r,o),f.set(i),U._free(r)}function C(e){U&&U.destroy(e)}function F(e,n){for(let t=0;t<n.length;++t)e[t]=n[t]}function R(){return U?Promise.resolve():(_||(_=u().then((e=>{U=e,_=null}))),_)}const M={transform:A,destroy:C}}}]);
//# sourceMappingURL=5817.fc47a1b0.js.map